{{ define "main" }}
<!-- Projects Page -->
<section class="projects-page-wrapper">
  <!-- Hero Section -->
  <div class="projects-hero">
    <div class="projects-container">
      <h1 class="projects-hero-title">{{ .Title }}</h1>
      <p class="projects-hero-subtitle">Let's Bring Your Vision to Life</p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="projects-main-content">
    <div class="projects-container">
      <!-- Introduction -->
      <div class="projects-intro-section">
        <div class="projects-intro-icon">ðŸš€</div>
        <div class="projects-intro-text">
          {{ .Content }}
        </div>
      </div>

      <!-- Project Inquiry Form -->
      <div class="project-form-section">
        <h2>Get Your Free Project Consultation</h2>
        <p class="form-subtitle">Complete the form below and we'll contact you within 24 hours</p>

        <form class="project-inquiry-form" id="projectForm" name="project-inquiry" method="POST" netlify netlify-honeypot="bot-field">
          <!-- Add honeypot field -->
          <div class="hidden">
            <label>Don't fill this out if you're human: <input name="bot-field"></label>
          </div>

          <!-- Contact Information -->
          <div class="form-group">
            <h3>Your Information</h3>
            <div class="form-row">
              <div class="form-column">
                <label for="name">Full Name *</label>
                <input type="text" id="name" name="name" required>
              </div>
              <div class="form-column">
                <label for="company">Company/Organization</label>
                <input type="text" id="company" name="company">
              </div>
            </div>

            <div class="form-row">
              <div class="form-column">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" required>
              </div>
              <div class="form-column">
                <label for="phone">Phone Number *</label>
                <input type="tel" id="phone" name="phone" required>
              </div>
            </div>
          </div>

          <!-- Project Details -->
          <div class="form-group">
            <h3>Project Details</h3>

            <div class="form-row">
              <div class="form-column">
                <label for="projectType">Project Type *</label>
                <select id="projectType" name="projectType" required>
                  <option value="">Select project type</option>
                  <option value="cage-trailer">Cage Trailer</option>
                  <option value="kitchen-trailer">Kitchen Trailer</option>
                  <option value="custom-trailer">Custom Trailer</option>
                  <option value="repairs">Repairs & Modifications</option>
                  <option value="fabrication">Steel/Aluminum Fabrication</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div class="form-column">
                <label for="timeline">Desired Timeline *</label>
                <select id="timeline" name="timeline" required>
                  <option value="">Select timeline</option>
                  <option value="urgent">Urgent (Within 2 weeks)</option>
                  <option value="1-month">Within 1 month</option>
                  <option value="1-3-months">1-3 months</option>
                  <option value="3-6-months">3-6 months</option>
                  <option value="planning">Just planning/exploring</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-column full-width">
                <label for="budget">Estimated Budget Range</label>
                <select id="budget" name="budget">
                  <option value="">Select budget range</option>
                  <option value="under-5k">Under $5,000</option>
                  <option value="5k-10k">$5,000 - $10,000</option>
                  <option value="10k-20k">$10,000 - $20,000</option>
                  <option value="20k-50k">$20,000 - $50,000</option>
                  <option value="over-50k">Over $50,000</option>
                  <option value="not-sure">Not sure yet</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-column full-width">
                <label for="description">Project Description *</label>
                <textarea id="description" name="description" rows="5" placeholder="Please describe your project in detail. Include dimensions, materials, special requirements, and any specific features you need..." required></textarea>
              </div>
            </div>

            <div class="form-row">
              <div class="form-column full-width">
                <label for="reference">Reference Materials</label>
                <textarea id="reference" name="reference" rows="3" placeholder="Do you have drawings, sketches, photos, or links to similar projects that inspire you?"></textarea>
              </div>
            </div>
          </div>

          <!-- Additional Requirements -->
          <div class="form-group">
            <h3>Additional Requirements</h3>
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" name="requirements[]" value="design">
                <span class="checkmark"></span>
                I need design consultation
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="requirements[]" value="material-sourcing">
                <span class="checkmark"></span>
                I need material sourcing assistance
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="requirements[]" value="delivery">
                <span class="checkmark"></span>
                I need delivery/transportation
              </label>
              <label class="checkbox-label">
                <input type="checkbox" name="requirements[]" value="warranty">
                <span class="checkmark"></span>
                I'm interested in extended warranty
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-submit">
            <button type="submit" class="submit-btn">
              <span class="btn-text">Submit Project Inquiry</span>
              <span class="btn-loading" style="display: none;">Processing...</span>
            </button>
            <p class="form-note">We'll contact you within 24 hours to discuss your project</p>
          </div>
        </form>

        <!-- Success Message (Hidden by default) -->
        <div id="successMessage" class="success-message" style="display: none;">
          <div class="success-icon">âœ…</div>
          <h3>Thank You for Your Inquiry!</h3>
          <p>We've received your project details and will contact you within 24 hours to discuss your requirements.</p>
          <p>In the meantime, feel free to browse our <a href="/gallery/">gallery</a> for inspiration.</p>
        </div>
      </div>

      <!-- Next Steps Section -->
      <div class="next-steps-section">
        <h2>What Happens Next?</h2>
        <div class="steps-grid">
          <div class="step-card">
            <div class="step-number">1</div>
            <h4>Initial Consultation</h4>
            <p>We'll review your project and discuss your requirements in detail</p>
          </div>
          <div class="step-card">
            <div class="step-number">2</div>
            <h4>Design & Quotation</h4>
            <p>We'll create a detailed design and provide a comprehensive quote</p>
          </div>
          <div class="step-card">
            <div class="step-number">3</div>
            <h4>Project Approval</h4>
            <p>Once you approve the design and quote, we'll schedule your project</p>
          </div>
          <div class="step-card">
            <div class="step-number">4</div>
            <h4>Construction & Delivery</h4>
            <p>We'll build your project with regular updates and deliver on time</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- JavaScript for Form Handling -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('projectForm');
  const successMessage = document.getElementById('successMessage');
  const submitBtn = form.querySelector('.submit-btn');
  const btnText = submitBtn.querySelector('.btn-text');
  const btnLoading = submitBtn.querySelector('.btn-loading');

  form.addEventListener('submit', function(e) {
    e.preventDefault();

    // Show loading state
    btnText.style.display = 'none';
    btnLoading.style.display = 'inline';
    submitBtn.disabled = true;

    // Simulate form submission (replace with actual form handling)
    setTimeout(function() {
      // Hide form and show success message
      form.style.display = 'none';
      successMessage.style.display = 'block';

      // Reset button
      btnText.style.display = 'inline';
      btnLoading.style.display = 'none';
      submitBtn.disabled = false;
    }, 2000);
  });

  // Add real-time validation
  const inputs = form.querySelectorAll('input, select, textarea');
  inputs.forEach(input => {
    input.addEventListener('blur', function() {
      if (!this.value && this.hasAttribute('required')) {
        this.classList.add('error');
      } else {
        this.classList.remove('error');
      }
    });
  });
});
</script>
{{ end }}